"use strict";$(function(){var s=getid("username"),o=getid("passw"),n=getid("repassw"),c=(getid("check1"),getid("check2"),getid("drag")),e=getid("regi"),l=document.getElementsByClassName("yzm"),i=document.getElementsByTagName("span"),t=document.getElementsByTagName("input"),d=!1,a=!(s.onblur=function(){var e=s.value.trim();if(e)if(checkReg.tel(e)||checkReg.email(e)){ajax("get","../api/checkname.php","name="+e,function(e){"yes"==e?(i[0].innerText="该用户名可以注册",css(i[0],"color","green"),css(s,"border","")):(i[0].innerText="该用户名已存在",css(i[0],"color","red"),css(s,"border","1px solid red"))}),css(l[0],"display","block"),t[2].onclick=function(){for(var e="",r=0;r<4;r++)e+=parseInt(10*Math.random());t[2].value=e},c.onblur=function(){var e=c.value.trim(),r=t[2].value.trim();e?e==r?(i[0].innerText="",css(c,"border",""),d=!0):(i[0].innerHTML="验证码输入不正确",i[0].style.color="red",css(c,"border","1px solid red")):(i[0].innerHTML="请输入对应验证码",i[0].style.color="red",css(c,"border","1px solid red"))}}else i[0].innerText="请输入正确的手机号或者邮箱",i[0].style.color="red",css(s,"border","1px solid red");else i[0].innerHTML="输入不能为空",i[0].style.color="red",css(s,"border","1px solid red")}),u=!(o.onblur=function(){var e=o.value.trim();e?checkReg.password(e)?(i[1].innerText="",a=!0,css(o,"border","")):(i[1].innerText="密码的长度只能在8-20位",i[1].style.color="red",css(o,"border","1px solid red")):(i[1].innerHTML="输入不能为空",i[1].style.color="red",css(o,"border","1px solid red"))}),p=!(n.onblur=function(){var e=o.value.trim(),r=n.value.trim();r?e==r?(i[2].innerText="",u=!0,css(n,"border","")):(i[2].innerText="两次密码输入不一致，请重新输入",i[2].style.color="red",css(n,"border","1px solid red")):(i[2].innerHTML="请再次确认密码",i[2].style.color="red",css(n,"border","1px solid red"))});t[5].onclick=function(){t[5].checked?(css(t[6],"display","block"),t[6].onblur=function(){t[6].value.trim()?(p=!0,i[4].innerHTML="",css(t[6],"border","")):(i[4].innerHTML="请输入贵宾邀请码",i[4].style.color="red",css(t[6],"border","1px solid red"))}):css(t[6],"display","none")},e.onclick=function(){if(d&&a&&u||d&&a&&u&&p){var e=s.value.trim(),r=o.value.trim();ajax("post","../api/reg.php","name="+e+"&psw="+r,function(e){"yes"==e?(alert("恭喜您，注册成功！"),location.href="http://localhost/wwwww/src/html/regiscc.html",s.value="",o.value="",n.value="",c.value="",css(l[0],"display","none")):alert("遗憾噢，注册失败！")})}}});